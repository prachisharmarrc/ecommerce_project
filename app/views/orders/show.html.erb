<!-- app/views/orders/show.html.erb -->
<h1>Order #<%= @order.id %></h1>
<p>Total: <%= number_to_currency(@order.total_price) %></p>
<p>Status: <%= @order.status %></p>

<h2>Items</h2>
<ul>
  <% @order.order_items.each do |item| %>
    <li>
      <% if item.product.image_url.present? %>
        <%= image_tag(item.product.image_url, alt: item.product.product_name, style: "width: 100px; height: auto;") %>
      <% end %>
      <p><%= item.product.product_name %> - Quantity: <%= item.quantity %> - Price: <%= number_to_currency(item.price) %></p>
    </li>
  <% end %>
</ul>

<h3>Taxes</h3>
<ul>
  <% @order.order_taxes.each do |order_tax| %>
    <li><%= order_tax.tax.tax_type %> - <%= number_to_currency(order_tax.tax_amount) %></li>
  <% end %>
</ul>

<p>Total Amount: <%= number_to_currency(@order.total_amount) %></p>

<%= link_to 'Back to Orders', orders_path %>
